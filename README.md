# Требования
* Intellij Idea
* JDK
* Maven
* git

#Установка
##Установка необходимых компонентов
* ###Установка Intellij Idea
* ####для windows 10
1. перейти по ссылке https://www.jetbrains.com/idea/download/#section=windows
2. скачать .exe файл (community edition будет достаточно)
3. установить программу

* ###Установка JDK
* ####для windows 10
1. перейти по ссылке https://www.oracle.com/java/technologies/javase-downloads.html
2. кликнуть ссылку JDK Download для последней доступной версии продукта
3. на открывшейся странице найти Windows x64 Installer и закгрузить его
4. установить программу

* ###Установка Maven
* ####для windows 10
1. перейти по ссылке https://maven.apache.org/download.cgi
2. скачать bin.zip файл
3. распоковать архив в удобную директорию, например C:\opt\apache-maven-{номер последней версии, напр. 3.8.2}

* ###Установка git
* ####для windows 10
1. перейти по ссылке https://git-scm.com/download/win
2. скачать 64-bit Git for Windows Setup
3. установить как любую другую программу

##Настройка системы
* ###Настройка переменных окружения
* ####для windows 10
1. в поиске пишем "environment variables" и открываем предложенный вариант
2. в открывшемся системном окне нажимаем кнопку "environment variables"
3. в открывшемся системном окне, в блоке "System variables" системные переменные со следующими значениями  
   `переменная - MAVEN_HOME, значение - C:\opt\apache-maven-{номер последней версии, напр. 3.8.2}`  (либо путь по куда вы распоковали файлы мавена)
4. редактируем переменную Path  
   добавляем строку `C:\Program Files\Java\jdk-{номер последней версии, напр. 16.0.1}\bin` в которой указан путь к директории bin для установленой jdk, перемещаем строку наверх списка
   добавляем строку `%MAVEN_HOME%\bin`

* ###Запуск тестов
1. запустить IDE
2. открыть папку проекта MCDN в среде разработки
3. заходим в меню File > Settings > Plugin, находим **Cucumber** и нажимаем Install, затем ОК и перезапускаем среду разработки
4. проверяем, что плагин **Gherkin** установлен (File > Settings > Plugin)
5. после этого подтягиваем зависимости проекта, чтобы импортируемые библиотеки работали: находим файл **pom.xml** > кликаем на него правой кнопкой мыши Maven > Reimport
6. далее находим класс **TestFirstRunner.java** (MCDN/src/test/java/runners/TestFirstRunner.java) и переходим в него
7. выбираем нужный тест для запуска
   для этого в параметр tags = {"тэг", "~@ignore"} (12 и 13 строка TestFirstRunner) записываем тэг нужного теста (все тесты помечены тэгами формата @id-{номер}, также каждый тест еще помечен тэгом @all)
   если нужно запустить отдельный тест, раскомментируем строку 13 и закомментируем 12, пишем в раскомментированной строке параметр tags тэг нужного теста
   если нужно запустить все тесты подряд, раскомментируем строку 12 и закомментируем 13, в ней уже установлен тэг всех тестов @all
8. запускаем тесты при помощи нажатия на зеленую стрелочку
9. в случае использования JSON содержащего несколько товарных групп (Например тест @id-3.5 на проверку cisType для каждой товарной группы), нужно учитывать:
   9.1. JSON-ы по структуре должны быть одинаковыми (в одном файле)
   9.2. происходит поэтапная проверка всех товарных групп сначала для одного типа cisType, затем по каждому из заданных типов происходят соответствующие итерации

* ###Запуск тестов через терминал IDE
1. запустить IDE
2. открыть файл pom.xml
3. в блоке plugins (предположительно 99 строка <tags>"@all"</tags>) по умолчанию стоит тэг all, запускающий все тесты. При необходимости исправить на интересующий Вас тест кейс или блок кейсов с одинаковым тэгом
4. открыть вкладку Terminal в левом нижнем углу экрана
5. ввести команду mvn test и нажать клавишу enter
6. дождаться завершения прогона тестов

* ###Запуск тестов через командную строку вашей операционной системы
* Предварительные условия, в случае замены количества запускаемых тестовых сценариев, отмечены через (-) ниже
- запустить IDE
- открыть файл pom.xml
- в блоке plugins (предположительно 99 строка <tags>"@all"</tags>) по умолчанию стоит тэг all, запускающий все тесты. При необходимости исправить на интересующий Вас тест кейс или блок кейсов с одинаковым тэгом
1. запустить командную строку «напрямую» — нажать клавиши Windows+R на клавиатуре и ввести cmd.exe в окно «Выполнить». Затем просто нажмите Ок.
2. открыть в проводнике папку с проектом на вашем компьютере и скопировать путь до нее
3. в командной строке ввести следующее --> cd путь до директории проекта, который Вы скопировали в шаге 2 и нажать клавишу enter (например cd C:\Project)
4. ввести команду mvn test и нажать клавишу enter
5. дождаться завершения прогона тестов

* ###Проверка результатов тестов
1. запустить IDE
2. раскрыть папку с проектом (если уже не раскрыта) > target > cucumber-report-html > cucumber-html-reports
3. проверить результаты тестов в имеющихся html файлах